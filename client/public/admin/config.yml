backend:
  name: git-gateway
  branch: main

media_folder: "client/public/uploads"
public_folder: "/uploads"

collections:
  - name: "events"
    label: "Events"
    label_singular: "Event"
    folder: "client/src/content/events"
    create: true
    slug: "{{title | slug}}"
    identifier_field: "title"
    extension: "json"
    format: "json"
    sortable_fields: ["startDate", "title"]
    summary: "{{title}} - {{startDate | date('MMM D, YYYY')}}"
    fields:
      - name: "basics"
        label: "Event Details"
        widget: "object"
        collapsed: false
        hint: "Basic information about your event"
        fields:
          - label: "Event Name"
            name: "title"
            widget: "string"
            required: true
            hint: "What is this event called? (e.g., 'Irwin Car Cruise 2026')"

          - label: "Event Date"
            name: "startDate"
            widget: "datetime"
            required: true
            date_format: "MMMM D, YYYY"
            time_format: false
            hint: "When does the event take place?"

          - label: "End Date"
            name: "endDate"
            widget: "datetime"
            required: false
            date_format: "MMMM D, YYYY"
            time_format: false
            hint: "Only set this for multi-day events"

          - label: "Hours"
            name: "timeText"
            widget: "string"
            required: false
            hint: "What time? (e.g., '10 AM - 8 PM')"

          - label: "Location"
            name: "location"
            widget: "string"
            required: false
            default: "Main Street, Irwin PA"
            hint: "Where is the event held?"

          - label: "Event Category"
            name: "eventType"
            widget: "select"
            options:
              - { label: "Car Cruise", value: "car-cruise" }
              - { label: "Street Market", value: "street-market" }
              - { label: "Night Market", value: "night-market" }
              - { label: "Other Event", value: "other" }
            default: "other"
            hint: "What type of event is this?"

          - label: "Registration Status"
            name: "status"
            widget: "select"
            options:
              - { label: "Open (registration is live)", value: "open" }
              - { label: "Upcoming (not open yet)", value: "upcoming" }
              - { label: "Closed (registration ended)", value: "closed" }
            default: "upcoming"
            hint: "Can people sign up right now? This can be automated with scheduling below."

      - name: "content"
        label: "Content"
        widget: "object"
        collapsed: false
        hint: "Description and imagery for the event"
        fields:
          - label: "Description"
            name: "description"
            widget: "markdown"
            required: true
            hint: "Tell visitors what this event is about"

          - label: "Hero Image"
            name: "heroImage"
            widget: "image"
            required: false
            hint: "Large banner image shown at the top of the event page"

      - name: "links"
        label: "Action Buttons"
        widget: "object"
        collapsed: true
        hint: "Links for registration and signups - buttons appear on the event page"
        fields:
          - label: "Vendor Signup Link"
            name: "vendorUrl"
            widget: "string"
            required: false
            hint: "Where do vendors apply? (Square, Jotform, etc.)"

          - label: "Sponsor Signup Link"
            name: "sponsorUrl"
            widget: "string"
            required: false
            hint: "Where do sponsors sign up?"

          - label: "Attendee Registration Link"
            name: "attendeeUrl"
            widget: "string"
            required: false
            hint: "Where do attendees register or RSVP?"

          - label: "Always Show Buttons"
            name: "forceShowButtons"
            widget: "boolean"
            default: false
            hint: "Show buttons even when registration is closed (useful for info links)"

      - name: "scheduling"
        label: "Scheduling (Optional)"
        widget: "object"
        collapsed: true
        hint: "Automate when this event appears and when registration opens/closes"
        fields:
          - label: "Show Event Starting"
            name: "visibleFrom"
            widget: "datetime"
            required: false
            date_format: "MMMM D, YYYY"
            time_format: "h:mm A"
            hint: "Event will be hidden until this date/time"

          - label: "Hide Event After"
            name: "visibleUntil"
            widget: "datetime"
            required: false
            date_format: "MMMM D, YYYY"
            time_format: "h:mm A"
            hint: "Event will be hidden after this date/time"

          - label: "Registration Opens"
            name: "registrationOpensAt"
            widget: "datetime"
            required: false
            date_format: "MMMM D, YYYY"
            time_format: "h:mm A"
            hint: "Buttons become active at this time (status changes to Open)"

          - label: "Registration Closes"
            name: "registrationClosesAt"
            widget: "datetime"
            required: false
            date_format: "MMMM D, YYYY"
            time_format: "h:mm A"
            hint: "Buttons become inactive after this time (status changes to Closed)"

      - name: "options"
        label: "Additional Options"
        widget: "object"
        collapsed: true
        hint: "Extra settings for this event"
        fields:
          - label: "Featured Event"
            name: "featured"
            widget: "boolean"
            default: false
            hint: "Show this event prominently on the homepage"

          - label: "Capacity Limit"
            name: "cap"
            widget: "number"
            required: false
            value_type: "int"
            hint: "Maximum vendors or attendees (leave empty for unlimited)"

          - label: "Photo Gallery"
            name: "gallerySlug"
            widget: "relation"
            collection: "galleries"
            value_field: "title"
            search_fields: ["title"]
            display_fields: ["title"]
            required: false
            hint: "Link to photos from this event"

      - name: "preview"
        label: "Preview"
        widget: "object"
        collapsed: true
        hint: "Preview your event before publishing"
        fields:
          - label: "Preview Link"
            name: "previewNote"
            widget: "string"
            required: false
            default: "After saving, visit /events/[event-name] to preview"
            hint: "Save and visit the event page to see how it looks"

  - name: "announcements"
    label: "Announcements"
    label_singular: "Announcement"
    folder: "client/src/content/announcements"
    create: true
    slug: "{{title | slug}}"
    identifier_field: "title"
    extension: "json"
    format: "json"
    sortable_fields: ["publishAt", "title"]
    summary: "{{title}} {{#if pinned}}ðŸ“Œ{{/if}}"
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
        required: true
        hint: "Headline for this announcement"

      - label: "Message"
        name: "body"
        widget: "markdown"
        required: true
        hint: "What do you want to announce?"

      - label: "Image"
        name: "image"
        widget: "image"
        required: false
        hint: "Optional image to display with the announcement"

      - label: "Link"
        name: "link"
        widget: "string"
        required: false
        hint: "Optional: Link to more info (full URL)"

      - label: "Link Text"
        name: "linkText"
        widget: "string"
        required: false
        default: "Learn More"
        hint: "Text for the link button"

      - name: "scheduling"
        label: "Scheduling"
        widget: "object"
        collapsed: false
        hint: "Control when this announcement appears"
        fields:
          - label: "Show Starting"
            name: "publishAt"
            widget: "datetime"
            required: false
            date_format: "MMMM D, YYYY"
            time_format: "h:mm A"
            hint: "Announcement appears after this date/time (leave empty to show immediately)"

          - label: "Hide After"
            name: "expireAt"
            widget: "datetime"
            required: false
            date_format: "MMMM D, YYYY"
            time_format: "h:mm A"
            hint: "Announcement disappears after this date/time (leave empty to show forever)"

          - label: "Pin to Top"
            name: "pinned"
            widget: "boolean"
            default: false
            hint: "Pinned announcements always appear first"

  - name: "galleries"
    label: "Photo Galleries"
    label_singular: "Gallery"
    folder: "client/src/content/galleries"
    create: true
    slug: "{{title | slug}}"
    identifier_field: "title"
    extension: "json"
    format: "json"
    summary: "{{title}}"
    fields:
      - label: "Gallery Title"
        name: "title"
        widget: "string"
        required: true
        hint: "Name of this photo collection (e.g., 'Car Cruise 2025 Photos')"

      - label: "Description"
        name: "description"
        widget: "text"
        required: false
        hint: "Brief description of what's in this gallery"

      - label: "Featured Gallery"
        name: "featured"
        widget: "boolean"
        default: false
        hint: "Show this gallery prominently on the galleries page"

      - label: "Cover Image"
        name: "coverImage"
        widget: "image"
        required: false
        hint: "Main image shown as the gallery thumbnail"

      - label: "Photos"
        name: "photos"
        widget: "list"
        required: false
        hint: "Upload photos to display in this gallery"
        collapsed: false
        fields:
          - label: "Image"
            name: "image"
            widget: "image"
          - label: "Caption"
            name: "caption"
            widget: "string"
            required: false

      - label: "Google Drive Album Link"
        name: "googleDriveUrl"
        widget: "string"
        required: false
        hint: "Optional: Link to a Google Drive album with additional photos"

      - name: "preview"
        label: "Preview"
        widget: "object"
        collapsed: true
        fields:
          - label: "Preview Link"
            name: "previewNote"
            widget: "string"
            required: false
            default: "After saving, visit /galleries/[gallery-name] to preview"
            hint: "Save and visit the gallery page to see how it looks"

  - name: "pages"
    label: "Pages"
    label_singular: "Page"
    folder: "client/src/content/pages"
    create: true
    slug: "{{title | slug}}"
    identifier_field: "title"
    extension: "json"
    format: "json"
    summary: "{{title}}"
    fields:
      - label: "Page Title"
        name: "title"
        widget: "string"
        required: true
        hint: "The title shown at the top of the page"

      - name: "menu"
        label: "Menu Settings"
        widget: "object"
        collapsed: false
        hint: "How this page appears in navigation"
        fields:
          - label: "Show in Menu"
            name: "showInNav"
            widget: "boolean"
            default: true
            hint: "Should this page appear in the navigation menu?"

          - label: "Menu Label"
            name: "navLabel"
            widget: "string"
            required: false
            hint: "Text shown in the menu (uses title if empty)"

          - label: "Parent Menu Item"
            name: "parentMenu"
            widget: "relation"
            collection: "pages"
            value_field: "title"
            search_fields: ["title"]
            display_fields: ["title"]
            required: false
            hint: "Make this a submenu item under another page"

          - label: "Menu Order"
            name: "navOrder"
            widget: "number"
            required: false
            value_type: "int"
            default: 100
            hint: "Lower numbers appear first in menu"

      - label: "Page Layout"
        name: "template"
        widget: "select"
        options:
          - { label: "Landing Page (with sections)", value: "landing" }
          - { label: "Basic Page", value: "basic" }
          - { label: "Gallery Page", value: "gallery" }
          - { label: "Event Hub", value: "eventHub" }
        default: "basic"

      - name: "sections"
        label: "Page Sections"
        widget: "list"
        hint: "Add and arrange content blocks"
        types:
          - name: "hero"
            label: "Hero Banner"
            widget: "object"
            summary: "Hero: {{fields.headline}}"
            fields:
              - { label: "Headline", name: "headline", widget: "string", required: true }
              - { label: "Subheadline", name: "subheadline", widget: "string", required: false }
              - { label: "Background Image", name: "backgroundImage", widget: "image", required: false }
              - name: "buttons"
                label: "Buttons"
                widget: "list"
                required: false
                fields:
                  - { label: "Button Text", name: "text", widget: "string" }
                  - { label: "Link URL", name: "url", widget: "string" }
                  - { label: "Style", name: "style", widget: "select", options: ["primary", "secondary", "outline"], default: "primary" }

          - name: "text"
            label: "Text Block"
            widget: "object"
            summary: "Text: {{fields.heading}}"
            fields:
              - { label: "Heading", name: "heading", widget: "string", required: false }
              - { label: "Content", name: "body", widget: "markdown", required: true }
              - { label: "Alignment", name: "alignment", widget: "select", options: ["left", "center", "right"], default: "left" }

          - name: "photoGrid"
            label: "Photo Grid"
            widget: "object"
            summary: "Photos: {{fields.heading}}"
            fields:
              - { label: "Heading", name: "heading", widget: "string", required: false }
              - { label: "Columns", name: "columns", widget: "select", options: ["2", "3", "4"], default: "3" }
              - name: "images"
                label: "Images"
                widget: "list"
                fields:
                  - { label: "Image", name: "image", widget: "image" }
                  - { label: "Caption", name: "caption", widget: "string", required: false }
                  - { label: "Link URL", name: "linkUrl", widget: "string", required: false }

          - name: "cta"
            label: "Call to Action"
            widget: "object"
            summary: "CTA: {{fields.heading}}"
            fields:
              - { label: "Heading", name: "heading", widget: "string", required: true }
              - { label: "Description", name: "description", widget: "text", required: false }
              - { label: "Background", name: "backgroundColor", widget: "select", options: ["default", "primary", "accent", "muted"], default: "primary" }
              - name: "buttons"
                label: "Buttons"
                widget: "list"
                fields:
                  - { label: "Button Text", name: "text", widget: "string" }
                  - { label: "Link URL", name: "url", widget: "string" }
                  - { label: "Style", name: "style", widget: "select", options: ["primary", "secondary", "outline"], default: "primary" }

          - name: "faq"
            label: "FAQ Section"
            widget: "object"
            summary: "FAQ: {{fields.heading}}"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Frequently Asked Questions" }
              - name: "items"
                label: "Questions & Answers"
                widget: "list"
                fields:
                  - { label: "Question", name: "question", widget: "string" }
                  - { label: "Answer", name: "answer", widget: "markdown" }

          - name: "embed"
            label: "Embed Code"
            widget: "object"
            summary: "Embed: {{fields.heading}}"
            fields:
              - { label: "Heading", name: "heading", widget: "string", required: false }
              - { label: "Embed Code", name: "embedHtml", widget: "text", required: true, hint: "Paste iframe or embed code (YouTube, calendar, etc.)" }
              - { label: "Width", name: "maxWidth", widget: "select", options: ["full", "large", "medium", "small"], default: "large" }

          - name: "sponsors"
            label: "Sponsors Display"
            widget: "object"
            summary: "Sponsors Section"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Our Sponsors" }
              - { label: "Show Tier Cards", name: "showTierCards", widget: "boolean", default: true }
              - { label: "Show Sponsor Logos", name: "showLogos", widget: "boolean", default: true }

          - name: "eventsList"
            label: "Events List"
            widget: "object"
            summary: "Events: {{fields.heading}}"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Upcoming Events" }
              - { label: "Filter by Type", name: "filterType", widget: "select", options: ["all", "car-cruise", "street-market", "night-market"], default: "all" }
              - { label: "Featured Only", name: "featuredOnly", widget: "boolean", default: false }
              - { label: "Max Events to Show", name: "maxEvents", widget: "number", value_type: "int", default: 6 }

          - name: "galleriesList"
            label: "Galleries List"
            widget: "object"
            summary: "Galleries: {{fields.heading}}"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Photo Galleries" }
              - { label: "Featured Only", name: "featuredOnly", widget: "boolean", default: false }
              - { label: "Max Galleries to Show", name: "maxGalleries", widget: "number", value_type: "int", default: 6 }

          - name: "announcements"
            label: "Announcements"
            widget: "object"
            summary: "Announcements Section"
            fields:
              - { label: "Heading", name: "heading", widget: "string", default: "Latest Updates" }
              - { label: "Max to Show", name: "maxAnnouncements", widget: "number", value_type: "int", default: 3 }

      - name: "preview"
        label: "Preview"
        widget: "object"
        collapsed: true
        fields:
          - label: "Preview Link"
            name: "previewNote"
            widget: "string"
            required: false
            default: "After saving, visit /[page-url] to preview"
            hint: "Save and visit the page URL to see how it looks"

  - name: "site"
    label: "Site Settings"
    files:
      - name: "settings"
        label: "Site Settings"
        file: "client/src/content/site.json"
        fields:
          - { label: "Site Name", name: "siteName", widget: "string", hint: "Your organization name" }
          - { label: "Tagline", name: "tagline", widget: "string", hint: "A short slogan or description" }
          - { label: "Contact Email", name: "contactEmail", widget: "string" }
          - { label: "Contact Phone", name: "contactPhone", widget: "string" }
          - { label: "Address", name: "address", widget: "string" }
          - { label: "Facebook Page URL", name: "facebookUrl", widget: "string", required: false }
          - { label: "Instagram URL", name: "instagramUrl", widget: "string", required: false }
          - { label: "Logo", name: "logo", widget: "image", required: false, hint: "Your organization logo" }
          - { label: "Favicon", name: "favicon", widget: "image", required: false, hint: "Small icon shown in browser tabs" }

  - name: "sponsorTiers"
    label: "Sponsor Tiers"
    files:
      - name: "tiers"
        label: "Sponsorship Levels"
        file: "client/src/content/sponsors/tiers.json"
        fields:
          - name: "tiers"
            label: "Sponsorship Levels"
            widget: "list"
            hint: "Define different sponsorship packages"
            fields:
              - { label: "ID", name: "id", widget: "string", hint: "Unique identifier (e.g., 'gold', 'silver')" }
              - { label: "Level Name", name: "name", widget: "string", hint: "e.g., 'Gold Sponsor'" }
              - { label: "Price", name: "price", widget: "number", value_type: "int", hint: "Cost in dollars" }
              - { label: "Benefits", name: "benefits", widget: "list", field: { label: "Benefit", name: "benefit", widget: "string" }, hint: "What sponsors get at this level" }
              - { label: "Payment Link", name: "squareUrl", widget: "string", hint: "Square or payment form URL" }
              - { label: "Display Order", name: "order", widget: "number", value_type: "int", hint: "Lower numbers appear first" }
